<!DOCTYPE html>
<html>
	<head>
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9611851873074310" crossorigin="anonymous"></script>
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-2JDTM1R9SQ"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-2JDTM1R9SQ');
		</script>
		<title>Image to Base64</title>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
		<meta name="viewport" content="width=device-width"/>
	</head>
	<body>
		<script>
			(function() {
				Object.assign(document.documentElement.style, {
					height: "100%"
				});
				Object.assign(document.body.style, {
					color: 'white',
					backgroundColor: 'black',
					margin: 0,
					height: "100%",
				});
				const table = document.createElement("table");
				document.body.appendChild(table);
				Object.assign(table.style, {
					width: "100%",
					height: "90%"
				});
				const tr1 = document.createElement("tr");
				table.appendChild(tr1);
				Object.assign(tr1.style, {
					height: "2%"
				});
				const tr2 = document.createElement("tr");
				table.appendChild(tr2);
				Object.assign(tr2.style, {
					height: "98%"
				});
				const settings = document.createElement("td");
				tr1.appendChild(settings);
				const textareas = document.createElement("td");
				tr2.appendChild(textareas);
				const fileSelect = document.createElement("input");
				Object.assign(fileSelect, {
					type: "file",
					accept: "image/*",
					multiple: true,
				});
				fileSelect.addEventListener("change", (e) => {
					e.stopPropagation();
					e.preventDefault();
					image2base64(e.target.files);
				}, false);
				settings.appendChild(fileSelect);
				const fileName = document.createElement("input");
				settings.appendChild(fileName);
				fileName.id = "ITB_FILENAME";
				fileName.type = "checkbox";
				fileName.checked = "true" === localStorage.getItem(fileName.id);
				settings.appendChild(document.createTextNode("fileName"));
				const backgroundImage = document.createElement("input");
				settings.appendChild(backgroundImage);
				backgroundImage.id = "ITB_BACKGROUNDIMAGE";
				backgroundImage.type = "checkbox";
				backgroundImage.checked = "true" === localStorage.getItem(backgroundImage.id);
				settings.appendChild(document.createTextNode("backgroundImage ï¼Ž indent "));
				const indentCount = document.createElement("input");
				settings.appendChild(indentCount);
				indentCount.id = "ITB_INDENTCOUNT";
				indentCount.style.width = "30px";
				Object.assign(indentCount, {
					type: "number",
					min: 0,
					value: null === localStorage.getItem(indentCount.id) ? 0 : localStorage.getItem(indentCount.id)
				});
				const indentChar = document.createElement("select");
				settings.appendChild(indentChar);
				indentChar.id = "ITB_INDENTCHAR";
				const indentTab = document.createElement("option");
				indentChar.appendChild(indentTab);
				indentTab.value = "\t";
				indentTab.appendChild(document.createTextNode("tab"));
				const indentSpace = document.createElement("option");
				indentChar.appendChild(indentSpace);
				indentSpace.value = " ";
				indentSpace.appendChild(document.createTextNode("space"));
				indentChar.value = null === localStorage.getItem(indentChar.id) ? "\t" : localStorage.getItem(indentChar.id);
				const output = document.createElement("textarea");
				Object.assign(output.style, {
					color: "white",
					backgroundColor: "black",
					width: "100%",
					height: "100%",
					"box-sizing": "border-box"
				});
				output.value = "Drag & drop images anywhere";
				textareas.appendChild(output);
				const srcList = [];
				const print = function() {
					let count = srcList.length;
					let value = "";
					for (src of srcList) {
						value += "\n";
						for (let i = 0; i < parseInt(indentCount.value); i ++)
							value += indentChar.value;
						if (fileName.checked)
							value += '"' + src.name + '": ';
						value += backgroundImage.checked ? ("'url(\"" + src.src + "\")',") : ("'" + src.src + "',");
					}
					output.value = "" === value ? "Drag & drop images anywhere" : value;
				};
				const image2base64 = function(files) {
					srcList.length = 0;
					let count = files.length;
					output.value = "Loading " + count + " images";
					for (let file of files)
						if (file.type.startsWith("image/")) {
							const reader = new FileReader();
							reader.index = srcList.length;
							srcList.push({
								name: file.name
							});
							reader.onload = (e) => {
								srcList[reader.index].src = e.target.result;
								if (0 == -- count) 
									print();
							};
							reader.readAsDataURL(file);
						} else {
							count --;
						}
				};
				document.body.addEventListener("dragenter", (e) => {
					e.stopPropagation();
					e.preventDefault();
				}, false);
				document.body.addEventListener("dragover", (e) => {
					e.stopPropagation();
					e.preventDefault();
				}, false);
				document.body.addEventListener("drop", (e) => {
					e.stopPropagation();
					e.preventDefault();
					image2base64(e.dataTransfer.files);
				}, false);
				fileName.addEventListener("change", (e) => {
					localStorage.setItem(fileName.id, fileName.checked);
					print();
				}, false);
				backgroundImage.addEventListener("change", (e) => {
					localStorage.setItem(backgroundImage.id, backgroundImage.checked);
					print();
				}, false);
				indentCount.addEventListener("change", (e) => {
					localStorage.setItem(indentCount.id, indentCount.value);
					print();
				}, false);
				indentChar.addEventListener("change", (e) => {
					localStorage.setItem(indentChar.id, indentChar.value);
					print();
				}, false);
			})();
		</script>
		<a href="."><img src="data:image/webp;base64,UklGRlgEAABXRUJQVlA4TEwEAAAvlUAlEJXQsm1bVtvQ/07PD3Eeh8e9Tp0cieFyxyZCAgCAZSOlONu2bdu2bett27Zt27ZtczbbazIB829EmcnQIZre6th6A7WKvINgx3MVo5nL0vxIM88umE856uzK0i2vScwzx18st2NGz8/c/BS1G9Na7E0ny/0Rgy0vczbHyKt0u7c14ZTp95/2vlSDuSuvXZmfO79M2NJ316D7q91RTun4dlhRnCPEmzESlbOSs9mJeTmzkn24k2aippdzm+DiY5rFjik9icNb4JRm/0XOjIymeM5ufbzT7DfiAt4yxvQky7P/2eTIlGw9bTIsamlG/Uzv07I56mRPYsnK2rnOcffAnvi+HfjcKrspeMiteMRmSkQxnJriv5yNODC1vkgphiZWTyJyGyZN7WwCWlHMON700rEHlIILKJn6Bb11oBodPYnbO/Cf4ZQcUnrAphjz0T0hpL2+qRXlaDW8mxKWi7MHWXkGHkKLLuZLF8qMpWmb2sncan0x42FPYva6niqmZONnbnepGnOaYjnNRZGxmZIXOp049Ivh0RS8Nbn2ZUrtUDOFgmLEv/cEzXo9oCcXUCIcTb+YYlh425PIWI6ZU+eulhUzpGBPnFgM9wsoOWPfJ35XY1tTvFjJ/3yn1IHKvf1gWoyiprjOcRk+0JxSec74rRi6r55gWC3CGtiUzkLnNK+YX3g9eQlZwcvcKRli56xWIK7NTxt6EtNPxACriVzDBZSscmJfGV6bcaEp3iLOIhzqnlp3zl2NoaZXTmJumkkYVC7l5BQKi+HZk2BJPMGHHqjZzo+5TtvWnN+iYj7wexJ193M/zXqnpPEFekRnYNdmvGmK2ntRpxcUMyUXTB7TNybFh+qmuHIXvpTp9VnolFryuOKuzehoCiHjPt1pxpsS5moemV8x8ol7EiZdbqfZt6lReWjQoWJoo5uireWzc2nWNaUwn/PoXhUzXjbF4QbuWFCz+Aso5UAL9JFtMXY0xXrYTWmmoj+lwiwRFFoM36b49XFMLabJVaZTOg+t0shiODSFmucRB9Ps0JR0iLJOs5HXhp+XPYnUAu5HejFOTMkqSyX5dW3Gy6ZYAnvzhSzNgqc05bmWpBqHm8AfM6OJKs1sprQxy31XX4zOnsQzmsg0+/plrtOzNis2vhjGFD3x2qEmO6Z+z5qdKGaa4m6PuinZoLNqb5kVDF49tDvejb6AUktWzvPajEUdWON4A/Mp3cva+RdjKnibihnbboJP6XcWj3GxGMGvW0ycGXqoY85cQCnWh6zf5WKQvh6zeN4yQB0xcAElH2iL3rO5NuPXEc+mPMB2SqXgHoISWIxZFfnUaq/hipjShexTXTFSCs4HxrY3HtGeOjutRgFVkif3CzhsMjWFK3N0TwPHJjc8993UCf+ByVSazePI5kyabof+89/vJqSfKF9OZf9GjDkV7334M+fmg9kEes7O0swHc+wcnxVewL/gBA==" style="position: fixed; right: 0; bottom: 10%;"/></a>
	</body>
</html>